"use strict";angular.module("app.services",[]).service("$pouchDB",["pouchDB","$log",function(t,e){var n,r=this;this.setDatabase=function(e){n=t(e)},this.sync=function(t){n.sync(t,{live:!0,retry:!0})},this.get=function(t){return t.ok?n.get(t.id):e.error(t)},this.getAll=function(){return n.allDocs({include_docs:!0})},this.save=function(t){return t._id?n.put(t):n.post(t)},this.retryUntilWritten=function(t){return n.get(t._id).then(function(e){return t._rev=e._rev,n.put(t)})["catch"](function(e){return 409===e.status?r.retryUntilWritten(t):n.put(t)})},this["delete"]=function(t,e){return n.remove(t,e)},this.destroy=function(){n.destroy()}}]).service("BlankService",[function(){}]);